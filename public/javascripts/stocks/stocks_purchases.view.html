<div>
Welcome {{ globals.currentUser.name }}!

<link rel='stylesheet' href='/stylesheets/stock.css' />

<div>
	<div class="ibox-content col-md-12">
        <div class="">
            <a ng-click="stockCtrl.OpenAddTransactionForm(1,1)" class="btn btn-primary ">Add a new purchase</a>
            <a ng-click="stockCtrl.OpenAddTransactionForm(1,2)" class="btn btn-success ">Add a new sale</a>
        </div>
		<div class="col-md-12">
			<h2>Portfolio</h2>
			<table class="table table-striped table-bordered table-hover" >
				<thead>
				<tr>
					<th>Stock</th>
					<th>Volume</th>
					<th>Price</th>
					<th>Value</th>
					<th>Market Price</th>
					<th>Market Value</th>
				</tr>
				</thead>
				<tbody>
					<tr ng-repeat="portItem in stockCtrl.portfolio | orderBy: 'stock_name'">
						<td>{{portItem.stock_name}}</td>
						<td>{{portItem.position.qty}}</td>
						<td>{{portItem.position.price | currency}}</td>
						<td>{{portItem.position.price * portItem.position.qty | currency}}</td>
						<td>{{portItem.last_price | currency}}</td>
						<td>{{portItem.last_price * portItem.position.qty | currency}}</td>
					</tr>
				</tbody>
			</table>
		</div>
		
		<div class="col-md-12">
			<h2>Purchases</h2>
			<transaction-listing list="stockCtrl.purchases" transactiontype="1"></transaction-listing>
		</div>
		<div class="col-md-12">
			<h2>Sales</h2>
			<transaction-listing list="stockCtrl.sales" transactiontype="2"></transaction-listing>
		</div>
    </div>
</div>
<div class="col-md-12" ng-controller="LoginController as lgCtrl">
	<button class="btn btn-w-m btn-warning" type="submit" ng-click="lgCtrl.Logout()">Logout</button>
</div>
</div>

    <!-- Data Tables -->
    <script src="/javascripts/bower_components/plugins/dataTables/jquery.dataTables.js"></script>
    <script src="/javascripts/bower_components/plugins/dataTables/dataTables.bootstrap.js"></script>
    <script src="/javascripts/bower_components/plugins/dataTables/dataTables.responsive.js"></script>
    <script src="/javascripts/bower_components/plugins/dataTables/dataTables.tableTools.min.js"></script>
 

    <!-- Custom and plugin javascript -->
    <script src="/javascripts/bower_components/plugins/pace/pace.min.js"></script>
            
<style>
    body.DTTT_Print {
        background: #fff;

    }
    .DTTT_Print #page-wrapper {
        margin: 0;
        background:#fff;
    }

    button.DTTT_button, div.DTTT_button, a.DTTT_button {
        border: 1px solid #e7eaec;
        background: #fff;
        color: #676a6c;
        box-shadow: none;
        padding: 6px 8px;
    }
    button.DTTT_button:hover, div.DTTT_button:hover, a.DTTT_button:hover {
        border: 1px solid #d2d2d2;
        background: #fff;
        color: #676a6c;
        box-shadow: none;
        padding: 6px 8px;
    }

    .dataTables_filter label {
        margin-right: 5px;

    }
</style>


